-- Create database tables for stock management

-- Products table (simplified - single table approach)
CREATE TABLE IF NOT EXISTS products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL UNIQUE,
    stock_awal INTEGER NOT NULL DEFAULT 0,
    keluar_manual INTEGER NOT NULL DEFAULT 0,
    keluar_pos INTEGER NOT NULL DEFAULT 0,
    stock_akhir INTEGER NOT NULL DEFAULT 0,
    qty_di_pesan INTEGER NOT NULL DEFAULT 0,
    selisih INTEGER DEFAULT 0,
    days_to_order INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert sample data
INSERT INTO products (name) VALUES
('AYAM 20 PCS/PAX'),
('BLONDE 20 PCS/PAX'),
('KRIUK 14 PRS/PAX'),
('EMPAL 5 TSK/PAX'),
('SAYAP 20 PCS/PAX'),
('KEJU 40 PCS/PAX'),
('ATI AMPLA 10 PCS/PAX'),
('KULIT 10 PCS/PAX'),
('USUS 10 PCS/PAX'),
('TAHU 20 PCS/PAX'),
('TEMPE 20 PCS/PAX'),
('IKAN PIYIK 10 PRS/PAX'),
('JENGKOL GORENG 5 PRS/BKS'),
('JENGKOL SEMUR 5 PRS/BKS'),
('SAMBAL MATAH 10 PRS/BKS'),
('SAMBAL GEYBOK 2O PRS/BKS'),
('KACANG MEDE 3 Kg/PAX'),
('MINYAK WIJEN / BTL'),
('BOX 200 LBR/PAX'),
('TEKIT 10 BIJI/PAX'),
('KEURPUK JENGKOL 5 KG/PAX'),
('SAYUR ASEM 10 PRS/KTG'),
('CINCAU MADU 24 PCS/DUS'),
('NOTA BON 10 PCS/PAX'),
('BROSUR 1 RIM/PAX'),
('TELUR / BTR'),
('CABE RAWIT MERAH / KG'),
('KOL / KG'),
('TIMUN / KG'),
('TERONG / PCS'),
('DAUN PISANG / KTG'),
('BAWANG PUTIH / 500 GRAM'),
('BERAS / 50 KG'),
('GARAM  (1 PCH/KG)'),
('MICIN / 500 GRAM'),
('KECAP MANIS / 6 KG'),
('MINYAK GORENG / DERIGEN'),
('TEH CAP BOTOL / 10PCS (1PAX)'),
('TEH COAL PARA / PCS'),
('TEH PUCUK / PCS'),
('AIR MINERAL / PCS'),
('GAS / TABUNG'),
('HI-COOK / TABUNG'),
('JERIGEN KOSONG / 18 LITER')
ON CONFLICT (name) DO NOTHING; 